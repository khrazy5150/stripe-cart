<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Best NAD Supplement in 2025 | Anti-Aging & Energy Boost</title>
    <meta name="description" content="Transform your health with premium NAD+ supplement. Maintain youthful skin, boost energy and focus. Free shipping + 30-day money-back guarantee. Order now!">
    <link rel="icon" type="image/x-icon" href="images/logo.png">
    
    <!-- DNS prefetch for even earlier DNS resolution -->
    <link rel="dns-prefetch" href="//fonts.juniorbay.com">
    <link rel="dns-prefetch" href="//juniorbay.net">

    <!-- <link rel="preconnect" href="https://fonts.juniorbay.com"> -->
    <link rel="preconnect" href="https://juniorbay.net" crossorigin>
    <link href="https://fonts.juniorbay.com/?family=Aileron:400,600&family=Quicksand:700&display=swap" rel="stylesheet">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --background: 0 0% 100%;
            --foreground: 222.2 84% 4.9%;
            --card: 0 0% 100%;
            --card-foreground: 222.2 84% 4.9%;
            --primary: 217 91% 60%;
            --primary-foreground: 0 0% 100%;
            --secondary: 210 40% 96.1%;
            --secondary-foreground: 222.2 47.4% 11.2%;
            --muted: 210 40% 96.1%;
            --muted-foreground: 215.4 16.3% 46.9%;
            --accent: 217 91% 60%;
            --accent-foreground: 0 0% 100%;
            --border: 214.3 31.8% 91.4%;
            --input: 214.3 31.8% 91.4%;
            --ring: 217 91% 60%;
            --urgency: 0 100% 50%;
            --urgency-foreground: 0 0% 100%;
            --success: 142 76% 36%;
            --success-foreground: 0 0% 100%;
            --warning: 45 93% 58%;
            --warning-foreground: 222.2 84% 4.9%;
            --radius: 1rem;
        }

        html {
            font-size: 62.5%;
        }

        body {
            font-family: Aileron;
            font-weight: 400;
            font-size: 1.6rem;
        };

        p {
            font-family: Aileron, sans-serif;
            font-weight: 400;
        }

        h1 {
            font-family: Quicksand, Tahoma, sans-serif;
            font-weight: 700;
            font-size: 4rem;
        }

        h2 {
            font-family: Quicksand, Tahoma, sans-serif;
            font-size: 3.8rem;
            font-weight: 700;;
            margin-bottom: 1.5rem;
        }

        h3 {
            font-family: Quicksand, Tahoma, sans-serif;
            font-size: 2.4rem;
            font-weight: 700;
            line-height: 3.8rem;
            margin-bottom: 1.5rem;
        }

        h4 {
            font-family: Quicksand, sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            line-height: 2.9rem;
            /* margin-bottom: 1.5rem; */
        }

        h5 {
            font-family: Quicksand, sans-serif;
            font-size: 3rem;
            font-weight: 700;
        }

        .banner-red {
            padding: 1.5rem 1rem;
            background-color: hsl(var(--urgency));
            color: hsl(var(--urgency-foreground));
        }

        .banner-blue {
            padding: 1.5rem 1rem;
            background-color: #0b5294;
            color: #ffffff;
        }

        .banner-green {
            background-color: hsl(var(--success));
            padding: 1.5rem 1rem;
        }

        .font-mono {
            color: #ffef03;
        }

        .box {
            margin: 0;
            padding: 0;
        }

        .bg-image {
            height: 50rem;
            width: 100%;
            background-image: url("images/product-bg.png");
            background-size: cover;
            flex: 1;
            border-radius: 1rem;
        }

        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            padding: 2rem;
        }

        .antipodal-container {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .straight-container {
            max-width: 75%;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .bordered-container {
            max-width: 75%;
            margin: 0 auto;
            padding: 0 1rem;
            border: 1px solid #c0c0c0;
            background-color: #f2f2f2;
        }

        .row {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .row-75 {
            max-width: 75%;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
        }

        .icon {
            width: 3rem;
            height: 3rem;
        }

        .icon-lock {
            width: 2rem;
            height: 2rem;
            fill: currentColor;
        }

        .icon-pop {
            width: 1.3rem;
            height: 1.3rem;
            fill: currentColor;
        }

        .icon-form {
            width: 2rem;
            height: 2rem;
            fill: currentColor;
        }

        label {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .badge {
            position: absolute;
            top: -1rem;
            right: -1rem;
            background-color: #f7c72f;
            color: #010915;
            padding: 0.895rem 1.5rem;
            border-radius: 999.9rem;
            font-weight: 600;
            font-family: Aileron;
            font-size: 1.2rem;
        }

        .pod {
            padding: 3rem;
        }

        .box-light {
            border: 1px solid #c0c0c0;
            border-radius: 1rem;
            max-width: 25rem;
            margin: 2rem 0;
        }

        .showcase {
            max-width: 80%;
            margin: 0 auto;
        }

        .select-item {
            background-color: #f1f5f9;
            padding: 4rem 4rem;
        }

        .package-card {
            padding: 3rem;
            border: 2px solid #e2e8f0;
            border-radius: 1rem;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            display: flex;
            justify-content: space-between;
            margin-bottom: 2.8rem;
        }

        .package-card:hover {
            border-color: hsl(var(--success));
            background-color: hsl(var(--success) / 0.05);
        }

        .package-card.selected {
            border-color: hsl(var(--primary));
            background-color: hsl(var(--primary) / 0.05);
        }

        .package-badge {
            position: absolute;
            top: -1.3rem;
            right: -1rem;
            background-color: hsl(var(--warning));
            color: hsl(var(--warning-foreground));
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-family: Aileron, sans-serif;
            font-weight: 600;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.25rem;
        }


        .left {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .right {
            text-align: right;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 2rem 1.5rem;
            border-radius: var(--radius);
            font-weight: 600;
            font-family: Aileron;
            transition: all 0.2s;
            border: none;
            cursor: pointer;
            text-decoration: none;
        }

        .btn-primary {
            background-color: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
        }

        .btn-primary:hover {
            background-color: hsl(var(--success) / 0.9);
        }

        form fieldset {
            border: none;
            /* border-bottom: 2px dotted #d0d0d0; */
            margin: 2.5rem 0;
        }

        /* Base styling for form inputs */
        .input,
        #card-element, /* Stripe card input container */
        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="password"],
        textarea,
        select {
        width: 100%;
        padding: 16px 18px;
        margin-bottom: 16px;
        border: 2px solid #64758b; /* gray-blue outline */
        border-radius: 6px;
        font-size: 1rem;
        line-height: 1.4;
        background-color: #fff;
        transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }

        /* Focused input state */
        .input:focus,
        #card-element:focus-within,
        input:focus,
        textarea:focus,
        select:focus {
        outline: none;
        border-color: #3b84f6; /* blue accent color */
        box-shadow: 0 0 0 3px rgba(59, 132, 246, 0.25);
        }

        /* Button â€” match input height for rhythm */
        button,
        .btn,
        input[type="submit"] {
        padding: 16px;
        font-size: 1rem;
        border-radius: 6px;
        border: none;
        background-color: #3b84f6;
        color: #fff;
        cursor: pointer;
        transition: filter 0.2s ease;
        }
        button:hover,
        .btn:hover,
        input[type="submit"]:hover {
        filter: brightness(1.1);
        }

        /* Checkout Input Styles */
        #card-element {
            width: 100%;
            padding: 1.2rem 1rem;
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius);
            background-color: hsl(var(--background));
            color: hsl(var(--foreground));
        }

        .input-shop {
            width: 100%;
            padding: 1.2rem 1rem;
            border: none;
            background-color: hsl(var(--background));
            color: hsl(var(--foreground));
        }

        .input-shop:focus {
            outline: none;
            border-color: hsl(var(--primary));
            box-shadow: 0 0 0 2px hsl(var(--ring) / 0.2);
        }

        .form-guarantee {
            display: flex;
            justify-content: center;
            margin-top: 3rem;
        }

        .form-guarantee img {
            max-width: 8rem;
            max-height: 8rem;
        }

        .card-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .pay-with-card {
            width: auto;
            height: 20px;
        }

        footer {
            padding: 20px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #0b5294;
            color: #ffffff;
        }

        .footer-links {
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }

        .link, 
        .footer-links a {
            color: #ff8309;
            text-decoration: none;
        }

        .footer-links a:hover {
            color: #ffffff;
            text-decoration: underline;
        }

        .customer {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 2rem;
            /* margin-bottom: 1.5rem; */
        }

        .csz {
            display: grid;
            grid-template-columns: repeat(3, minmax(0, 1fr));
            gap: 2rem;
            margin-bottom: 1.5rem;
        }

        .chk {
            display:flex;
            align-items:center;
            gap:0.5rem;
            cursor:pointer;
            margin-bottom:3rem;
        }

        #order-summary { 
            margin: 20px 0;
        }

        .main-img {
            width: 50rem;
            height: 50rem;
        }

        .grand-total {
            background-color: #fee301;
            padding: 0.5rem 1rem;
        }

        .flex-1 { flex: 1; }

        .center { text-align: center; }

        .hidden { display: none; }

        .w-full { width: 100%; }
        .relative { position: relative; }
        .rounded-lg { border-radius: 1.5rem; }
        .shadow-lg { box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.05); }

        .text-xs {font-size: 1.2rem;}
        .text-sm {font-size: 1.4rem;}
        .text-md {font-size: 1.6rem;}
        .text-lg {font-size: 1.8rem;}
        .text-xl {font-size: 2.2rem;}
        .text-2xl {font-size: 2.6rem;}

        .mb-2 {margin-bottom: 2rem;}
        .mb-3 {margin-bottom: 3rem;}
        .mb-4 {margin-bottom: 4rem;}
        .mb-5 {margin-bottom: 5rem;}

        /* .text-line{display: block;} */

        .text-blue { color: #4285F4;}
        .text-green { color: #1ba24c; }
        .text-red { color: hsl(var(--urgency)); }


        .muted { color: hsl(var(--muted-foreground)); }
        .strike { text-decoration: line-through; }

        .semi-bold { font-weight: 600; }
        .bold { font-weight: bold; }

        .grid { display: grid; }
        .grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }

        .break { margin-bottom: 2rem; }

        .trust {
            display: grid;
            grid-template-columns: repeat(4, minmax(0, 1fr));
            justify-content: space-between;
            align-items: center;
            padding: 2rem 0;
        }

        .striped-container .stripe-item:nth-child(odd) {
            background-color: #f2f2f2; /* Light grey for odd rows */
        }

        .striped-container .stripe-item:nth-child(even) {
            background-color: #ffffff;
        }

        #last {
            margin-bottom: -0.025rem;
        }

        /* Optional: Add some padding or styling for better visual appearance */
        .stripe-item {
            padding: 1rem;
            margin-bottom: 0.5rem;
        }

        .bordered {
            border: 2px solid #c0c0c0;
        }

        .seal-image {
            width: 12rem;
            height: 12rem;
        }

        .guarantee-text {
            color: #ffffff;
        }

        .ribbon-split {
            display: flex;
            justify-content: center;
            align-items: center;
            background-image: url("images/ribbon.png");
            gap: 3rem;
            padding: 2rem 4rem;
        }

        /* Gradient Backgrounds */
        .bg-gradient {
            background: linear-gradient(135deg, hsl(var(--muted) / 0.5), hsl(var(--muted)));
        }

        /* =========================================
        RESPONSIVE MEDIA QUERIES
        ========================================= */

        /* 1024px and below (Laptops, smaller desktops) */
        @media (max-width: 1024px) {
        .straight-container,
        .bordered-container,
        .row-75,
        .showcase {
            max-width: 100%;
        }

        .main-img {
            width: 40rem;
            height: 40rem;
        }
        }

        /* Tablets (768px and below) */
        @media (max-width: 768px) {
        /* .antipodal-container {
            flex-direction: row;
            align-items: flex-start;
            gap: 1rem;
        } */

        .customer,
        .csz {
            grid-template-columns: 1fr;
        }

        .trust {
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .main-img {
            width: 35rem;
            height: 35rem;
        }
        }

        /* Small Tablets and Large Phones (600px and below) */
        @media (max-width: 600px) {
        .row,
        .row-75,
        .container {
            flex-direction: column;
            justify-content: center;
        }

        .box .container {
            flex-direction: row;
        }

        .package-card {
            padding: 1rem;
            margin-bottom: 1.5rem;
        }

        .footer-links {
            flex-direction: row;
            gap: 0.5rem;
        }

        .main-img {
            width: 28rem;
            height: 28rem;
        }
        }

        /* Mobile Phones (480px and below) */
        @media (max-width: 480px) {
        h1 { font-size: 2rem; }
        h2 { font-size: 2.6rem; text-align: center; }
        h3 { font-size: 2rem; }
        h4 { font-size: 1.4rem; }

        /* body {
            font-size: 65%;
        } */

        .icon,
        .icon-cart {
            width: 2.5rem;
            height: 2.5rem;
            flex-shrink: 0;
        }

        .box-light {
            max-width: 15rem;
            margin: 1rem 0;
            text-align: center;
        }

        .package-card {
            padding: 3rem 1.3rem;
            width: 100%;
        }

        .package-badge {
            font-size: 1rem;
        }

        .text-sm {
            font-size: 1rem;
        }

        .text-xs {
            font-size: 1rem;
        }

        .text-2xl {
            font-size: 2rem;
        }

        .ribbon-split {
            flex-direction: row;
            gap: 1.5rem;
            padding: 1rem;
        }

        .seal-image {
            width: 14rem;
            height: 14rem;
        }

        .main-img {
            width: 35rem;
            height: 35rem;
        }

        .text-md {font-size: 1.2rem;}
        }

        /* Small Mobile Phones (360px and below) */
        @media (max-width: 359px) {
        h1 { font-size: 2.4rem; }
        h2 { font-size: 2.2rem; }
        h3 { font-size: 1.8rem; }
        h4 { font-size: 0.95rem; }

        /* .icon-check {
            display: none;
        } */

        .package-card {
            flex-direction: column;
            align-items: center;
        }

        .left {
            text-align: center;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
        }

        .right {
            text-align: center;
        }


        .btn,
        button,
        input[type="submit"] {
            padding: 1.2rem;
            font-size: 0.9rem;
        }

        .main-img {
            width: 28rem;
            height: 28rem;
        }

        .badge {
            right: 1rem;
            padding: 0.5rem 1rem;
            font-weight: 600;
            font-size: 0.85rem;
        }
        }

        /* Landscape Orientation Adjustments for Mobile */
        @media (max-width: 768px) and (orientation: landscape) {
        .main-img {
            max-height: 20rem;
            width: auto;
        }

        footer {
            flex-direction: row;
            justify-content: space-between;
            padding: 1rem;
        }
        }

        /* High DPI / Retina Display Adjustments */
        @media only screen 
        and (min-device-pixel-ratio: 2),
        only screen 
        and (min-resolution: 192dpi) {
        .bg-image {
            background-image: url("images/product-bg@2x.png");
            background-size: cover;
        }

        /* .seal img {
            width: 14rem;
            height: 14rem;
        } */
        }
    </style>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Product",
        "@id": "#nad-supplement",
        "name": "NAD+ Nicotinamide Riboside",
        "description": "Maintain youthful skin, boost focus & energy with our premium NAD supplementâ€”the celebrity secret to fighting the effects of aging.",
        "category": "Dietary Supplement",
        "itemCondition": "https://schema.org/NewCondition",
        "image": [
            "https://images.juniorbay.com/photos/0CqHGmpUmdE/large.jpg"
        ],
        "offers": {
            "@type": "AggregateOffer",
            "priceCurrency": "USD",
            "lowPrice": "33.00",
            "highPrice": "143.00",
            "offerCount": "4",
            "availability": "https://schema.org/InStock",
            "offers": [
            {
                "@type": "Offer",
                "priceCurrency": "USD",
                "price": "33.00",
                "availability": "https://schema.org/InStock",
                "itemCondition": "https://schema.org/NewCondition",
                "name": "Buy 1 NAD Supplement Pouch"
            },
            {
                "@type": "Offer",
                "priceCurrency": "USD",
                "price": "59.00",
                "availability": "https://schema.org/InStock",
                "itemCondition": "https://schema.org/NewCondition",
                "name": "Buy 2 NAD Supplement Pouches"
            },
            {
                "@type": "Offer",
                "priceCurrency": "USD",
                "price": "83.00",
                "availability": "https://schema.org/InStock",
                "itemCondition": "https://schema.org/NewCondition",
                "name": "Buy 3 NAD Supplement Pouches"
            },
            {
                "@type": "Offer",
                "priceCurrency": "USD",
                "price": "143.00",
                "availability": "https://schema.org/InStock",
                "itemCondition": "https://schema.org/NewCondition",
                "name": "Buy 6 NAD Supplement Pouches"
            }
            ],
            "shippingDetails": [
            {
                "@type": "OfferShippingDetails",
                "shippingRate": {
                    "@type": "MonetaryAmount",
                    "value": "0",
                    "currency": "USD"
                },
                "shippingDestination": {
                    "@type": "DefinedRegion",
                    "addressCountry": "US"
                }
            }
            ],
            "hasMerchantReturnPolicy": {
                "@type": "MerchantReturnPolicy",
                "returnPolicyCategory": "https://schema.org/MerchantReturnFiniteReturnWindow",
                "merchantReturnDays": 30,
                "returnFees": "https://schema.org/FreeReturn",
                "returnMethod": "https://schema.org/ReturnByMail"
            }
        }
    }
    </script>
    <script src="https://js.stripe.com/v3/"></script>
</head>
<body>
    <div class="min-h-screen">
        <!-- Urgency Banner -->
        <div class="banner-red">
            <div class="box">
                <p class="text-sm semi-bold center">
                    ðŸ”¥ Up to 50% discount applied. This code expires in: <span id="countdown" class="font-mono font-bold">05:00</span> - Please do not leave this page!
                </p>
            </div>
        </div>

        <!-- Header -->
        <header>
            <div class="box">
                <div class="container">     
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-cart icon-solid" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"></path>
                    </svg>
                    <h1>NAD Supplement</h1>
                </div>
            </div>
        </header>

        <main>
            <!-- Product Showcase -->
            <section class="showcase">
                <div class="container">
                    <div class="box">
                        <!-- Product Image -->
                        <div class="relative">
                            <div class="bg-gradient rounded-lg shadow-lg">
                                <img 
                                    src="images/1-pouch.png" 
                                    alt="Liposomal - NAD Supplement" 
                                    class="main-img rounded-lg"
                                />
                            </div>
                            
                            <!-- Trust Badge -->
                            <div class="badge">
                                High Purity
                            </div>
                        </div>
                    </div>

                    <!-- Product Info -->
                    <div class="pod">
                        <div class="mb-6">
                            <h2 class="text-4xl font-bold mb-2">NAD+ Nicotinamide Riboside with Resveratrol</h2>
                            <p class="text-lg muted">
                                Reverse the effects of aging with NAD+ Supplement, which boosts cellular vitality by restoring NAD, the fuel needed for cellular repair. 
                            </p>
                        </div>

                        <!-- Features Grid -->
                        <div class="grid grid-cols-2 gap-6">
                            <div class="container box-light">            
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 20 20" fill="#4285F4">
                                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-2 0c0 .993-.241 1.929-.668 2.754l-1.524-1.525a3.997 3.997 0 00.078-2.183l1.562-1.562C15.802 8.249 16 9.1 16 10zm-5.165 3.913l1.58 1.58A5.98 5.98 0 0110 16a5.976 5.976 0 01-2.516-.552l1.562-1.562a4.006 4.006 0 001.789.027zm-4.677-2.796a4.002 4.002 0 01-.041-2.08l-.08.08-1.53-1.533A5.98 5.98 0 004 10c0 .954.223 1.856.619 2.657l1.54-1.54zm1.088-6.45A5.974 5.974 0 0110 4c.954 0 1.856.223 2.657.619l-1.54 1.54a4.002 4.002 0 00-2.346.033L7.246 4.668zM12 10a2 2 0 11-4 0 2 2 0 014 0z" clip-rule="evenodd"></path>
                                </svg>
                                <div>
                                    <p class="text-sm text-muted-foreground">Helps maintain youthful skin appearance</p>
                                </div>
                            </div>
                            <div class="container box-light">              
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#4285F4" class="icon">
                                    <path fill-rule="evenodd" d="M12 6.75a5.25 5.25 0 016.775-5.025.75.75 0 01.313 1.248l-3.32 3.319c.063.475.276.934.641 1.299.365.365.824.578 1.3.64l3.318-3.319a.75.75 0 011.248.313 5.25 5.25 0 01-5.472 6.756c-1.018-.086-1.87.1-2.309.634L7.344 21.3A3.298 3.298 0 112.7 16.657l8.684-7.151c.533-.44.72-1.291.634-2.309A5.342 5.342 0 0112 6.75zM4.117 19.125a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75h-.008a.75.75 0 01-.75-.75v-.008z" clip-rule="evenodd"></path>
                                    <path d="M10.076 8.64l-2.201-2.2V4.874a.75.75 0 00-.364-.643l-3.75-2.25a.75.75 0 00-.916.113l-.75.75a.75.75 0 00-.113.916l2.25 3.75a.75.75 0 00.643.364h1.564l2.062 2.062 1.575-1.297z"></path>
                                    <path fill-rule="evenodd" d="M12.556 17.329l4.183 4.182a3.375 3.375 0 004.773-4.773l-3.306-3.305a6.803 6.803 0 01-1.53.043c-.394-.034-.682-.006-.867.042a.589.589 0 00-.167.063l-3.086 3.748zm3.414-1.36a.75.75 0 011.06 0l1.875 1.876a.75.75 0 11-1.06 1.06L15.97 17.03a.75.75 0 010-1.06z" clip-rule="evenodd"></path>
                                </svg>
                                <div>
                                    <p class="text-sm text-muted-foreground">Fix your body's broken parts quicker</p>
                                </div>
                            </div>
                            <div class="container box-light">
                                <svg class="icon" viewBox="0 0 24 24" fill="none">
                                    <rect x="5" y="5" width="14" height="14" rx="2" ry="2" fill="#FFFFFF"/>
                                    <rect x="9" y="5" width="6" height="14" fill="#4285F4"/>
                                    <rect x="5" y="9" width="14" height="6" fill="#4285F4"/>
                                </svg>
                                <div>
                                    <p class="text-sm text-muted-foreground">Makes your brain sharp, so you can learn better</p>
                                </div>
                            </div>
                            <div class="container box-light">
                                <svg class="h-8 w-8 text-primary flex-shrink-0 icon" viewBox="0 0 24 24" stroke-width="2">
                                    <g transform="translate(12, 12)"> 
                                        <circle cx="0" cy="0" r="4" fill="#4285F4" stroke="#4285F4"/>
                                        
                                        <circle cx="0" cy="-7" r="2.5" fill="#4285F4" stroke="#4285F4"/>
                                        <line x1="0" y1="-4" x2="0" y2="-7" stroke="#4285F4" stroke-linecap="round"/>
                                        
                                        <circle cx="-6" cy="3.5" r="2.5" fill="#4285F4" stroke="#4285F4"/>
                                        <line x1="-3.46" y1="2" x2="-6" y2="3.5" stroke="#4285F4" stroke-linecap="round"/>
                                        
                                        <circle cx="6" cy="3.5" r="2.5" fill="#4285F4" stroke="#4285F4"/>
                                        <line x1="3.46" y1="2" x2="6" y2="3.5" stroke="#4285F4" stroke-linecap="round"/>
                                    </g>
                                </svg>
                                <div>
                                    <p class="text-sm text-muted-foreground">Give your body energy to run and play</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Package Selector -->
            <section class="select-item">
                <div class="straight-container mx-auto">
                    <div class="text-center mb-8">
                        <h3 class="center">Choose Your Package</h3>
                    </div>
                    
                    <div class="box">
                        <div class="package-card" data-package="basic" id="prod_SxJKn7l9FUAD0B">
                            <div class="left">
                                <div class="icon-check">
                                    <svg xmlns="http://www.w3.org/2000/svg" 
                                        width="24" height="24" viewBox="0 0 24 24" 
                                        class="h-3 w-3">

                                    <!-- Circle outline only -->
                                    <circle cx="12" cy="12" r="11" fill="none" stroke="#64758b" stroke-width="2" />
                                    </svg>
                                </div>
                                <div>
                                    <h4>Product 1</h4>
                                    <p class="text-xs muted txt-discount">discount percent</p>
                                </div>
                            </div>
                            <div class="right">
                                <div>
                                    <span class="text-sm muted strike txt-reg">regular price</span>
                                    <span id="price1" class="text-2xl semi-bold text-blue txt-price">discounted price</span>
                                    <p class="text-xs text-green txt-save">savings</p>
                                </div>
                            </div>
                        </div>

                        <div class="package-card" data-package="medium" id="prod_SxJVoQYlPT173d">
                            <div class="left">
                                <div class="icon-check">
                                    <svg xmlns="http://www.w3.org/2000/svg" 
                                        width="24" height="24" viewBox="0 0 24 24" 
                                        class="h-3 w-3">

                                    <!-- Circle outline only -->
                                    <circle cx="12" cy="12" r="11" fill="none" stroke="#64758b" stroke-width="2" />
                                    </svg>
                                </div>
                                <div>
                                    <h4>Product 2</h4>
                                    <p class="text-xs muted txt-discount">discount percent</p>
                                </div>
                            </div>
                            <div class="right">
                                <div>
                                    <span class="text-sm muted strike txt-reg">regular price</span>
                                    <span class="text-2xl semi-bold text-blue txt-price">discounted price</span>
                                    <p class="text-xs text-green txt-save">savings</p>
                                </div>
                            </div>
                        </div>

                        <div class="package-card selected" data-package="popular" id="prod_SxJgASmAPdNEgf">
                            <div class="package-badge">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon-pop" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                                </svg>
                                Most Popular
                            </div>
                            <div class="left">
                                <div class="icon-check">
                                    <svg xmlns="http://www.w3.org/2000/svg" 
                                        viewBox="0 0 24 24" 
                                        class="icon-star">

                                        <!-- Solid blue circle (no stroke) -->
                                        <circle cx="12" cy="12" r="12" fill="#3b84f6" />

                                        <!-- White check mark -->
                                        <path d="M20 6 9 17l-5-5" 
                                                fill="none" stroke="#ffffff" stroke-width="2" 
                                                stroke-linecap="round" stroke-linejoin="round" />
                                    </svg>
                                </div>
                                <div>
                                    <h4>Product 3</h4>
                                    <p class="text-xs muted txt-discount">discount percent</p>
                                </div>
                            </div>
                            <div class="right">
                                <div>
                                    <span class="text-sm muted strike txt-reg">regular price</span>
                                    <span class="text-2xl semi-bold text-blue txt-price">$discounted price</span>
                                    <p class="text-xs text-green txt-save">savings</p>
                                </div>
                            </div>
                        </div>

                        <div class="package-card" data-package="premium" id="prod_SxK4r0sm7rKRnx">
                            <div class="package-badge">         
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon-pop" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"></path>
                                </svg>
                                Best Value
                            </div>
                            <div class="left">
                                <div class="icon-check">
                                    <svg xmlns="http://www.w3.org/2000/svg" 
                                        width="24" height="24" viewBox="0 0 24 24" 
                                        class="h-3 w-3">

                                    <!-- Circle outline only -->
                                    <circle cx="12" cy="12" r="11" fill="none" stroke="#64758b" stroke-width="2" />
                                    </svg>
                                </div>
                                <div>
                                    <h4>Product 4</h4>
                                    <p class="text-xs muted txt-discount">discount percent</p>
                                </div>
                            </div>
                            <div class="right">
                                <div>
                                    <span class="text-sm muted strike txt-reg">regular price</span>
                                    <span class="text-2xl semi-bold text-blue txt-price">discounted price</span>
                                    <p class="text-xs text-green txt-save">savings</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="center">
                        <button id="purchase-btn" class="btn btn-primary text-lg">
                            Order Now
                        </button>
                    </div>
                </div>
            </section>

            <!-- Customer Form -->
            <form id="payment-form" class="hidden">
                <div class="row-75 banner-blue">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path>
                    </svg>
                    <h5>Secure Checkout</h5>
                </div>
                <section class="bordered-container">
                    <div class="row">&nbsp</div>
                    <div class="straight-container" id="stripe-form">
                        <div class="customer">
                            <fieldset>
                                <label for="firstName" class="text-md">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon-form icon-user icon-outline" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                    </svg>
                                    First Name
                                </label>
                                <input type="text" id="firstName" name="firstName" class="input-shop" required />
                            </fieldset>
                            <fieldset>
                                <label for="lastName" class="text-md">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon-form icon-users icon-solid" viewBox="0 0 20 20" fill="currentColor">
                                        <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"></path>
                                    </svg>
                                    Last Name
                                </label>
                                <input type="text" id="lastName" name="lastName" class="input-shop" required>
                            </fieldset>
                        </div>

                        <fieldset>
                            <label for="email" class="text-md">   
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon-form icon-mail-new icon-solid" viewBox="0 0 20 20" fill="currentColor">
                                    <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
                                    <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
                                </svg>
                                Email Address
                            </label>
                            <input type="email" id="email" name="email" class="input-shop" required>
                        </fieldset>

                        <fieldset>
                            <label for="phone" class="text-md">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon-form icon-phone icon-outline" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                                </svg>
                                Phone Number
                            </label>
                            <input type="tel" id="phone" name="phone" class="input-shop" required>
                        </fieldset>

                        <div class="card-info">
                            <h3 class="text-xl font-semibold" style="margin-top: 8px;">Card Information</h3> 
                            <img src="images/visa-mstr-disc.png" class="pay-with-card" style="display: block;" />
                        </div>
                        <div id="card-element"></div>

                        <h3 class="mb-4">Billing Address</h3>
                        <fieldset>
                            <label for="address" class="text-md">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="icon-form icon-id icon-solid">
                                    <path fill-rule="evenodd" d="M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z" clip-rule="evenodd"></path>
                                </svg>
                                Street Address
                            </label>
                            <input type="text" id="address" class="input-shop" required>
                        </fieldset>
                        <fieldset>
                            <label for="address2" class="text-md">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="icon-form icon-id icon-solid">
                                    <path fill-rule="evenodd" d="M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z" clip-rule="evenodd"></path>
                                </svg>
                                Apartment, suite, etc. (optional)
                            </label>
                            <input type="text" id="address2" class="input-shop">
                        </fieldset>
                        <div class="csz">
                            <fieldset>
                                <label for="city" class="text-md">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="icon-form icon-id icon-solid">
                                        <path fill-rule="evenodd" d="M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z" clip-rule="evenodd"></path>
                                    </svg>
                                    City
                                </label>
                                <input type="text" id="city" class="input-shop" required>
                            </fieldset>
                            <fieldset>
                                <label for="state" class="text-md">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="icon-form icon-id icon-solid">
                                        <path fill-rule="evenodd" d="M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z" clip-rule="evenodd"></path>
                                    </svg>
                                    State
                                </label>
                                <input type="text" id="state" class="input-shop" required>
                            </fieldset>
                            <fieldset>
                                <label for="zip" class="text-md">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="icon-form icon-id icon-solid">
                                        <path fill-rule="evenodd" d="M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z" clip-rule="evenodd"></path>
                                    </svg>
                                    Zip Code
                                </label>
                                <input type="text" id="zip" class="input-shop" required>
                            </fieldset>
                        </div>

                        <label class="chk text-sm">
                            <input type="checkbox" id="same-as-billing">
                            <span>Shipping address is the same as billing address (uncheck to add a shipping address)</span>
                        </label>

                        <section id="shipping-section">
                            <h3 class="mb-4">Shipping Address</h3>
                            <fieldset>
                                <label for="shipping-address" class="text-md">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="icon-form icon-truck icon-solid">
                                        <path d="M3.375 4.5C2.339 4.5 1.5 5.34 1.5 6.375V13.5h12V6.375c0-1.036-.84-1.875-1.875-1.875h-8.25ZM13.5 15h-12v2.625c0 1.035.84 1.875 1.875 1.875h.375a3 3 0 1 1 6 0h3a.75.75 0 0 0 .75-.75V15Z"></path>
                                        <path d="M8.25 19.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0ZM15.75 6.75a.75.75 0 0 0-.75.75v11.25c0 .087.015.17.042.248a3 3 0 0 1 5.958.464c.853-.175 1.522-.935 1.464-1.883a18.659 18.659 0 0 0-3.732-10.104 1.837 1.837 0 0 0-1.47-.725H15.75Z"></path>
                                        <path d="M19.5 19.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"></path>
                                    </svg>
                                    Street Address
                                </label>
                                <input type="text" id="shipping-address" class="input-shop" required>
                            </fieldset>
                            <fieldset>
                                <label for="shipping-address2" class="text-md">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="icon-form icon-truck icon-solid">
                                        <path d="M3.375 4.5C2.339 4.5 1.5 5.34 1.5 6.375V13.5h12V6.375c0-1.036-.84-1.875-1.875-1.875h-8.25ZM13.5 15h-12v2.625c0 1.035.84 1.875 1.875 1.875h.375a3 3 0 1 1 6 0h3a.75.75 0 0 0 .75-.75V15Z"></path>
                                        <path d="M8.25 19.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0ZM15.75 6.75a.75.75 0 0 0-.75.75v11.25c0 .087.015.17.042.248a3 3 0 0 1 5.958.464c.853-.175 1.522-.935 1.464-1.883a18.659 18.659 0 0 0-3.732-10.104 1.837 1.837 0 0 0-1.47-.725H15.75Z"></path>
                                        <path d="M19.5 19.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"></path>
                                    </svg>
                                    Apartment, suite, etc. (optional)
                                </label>
                                <input type="text" id="shipping-address2" class="input-shop">
                            </fieldset>
                            <div class="csz">
                                <fieldset>
                                    <label for="shipping-city" class="text-md">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="icon-form icon-truck icon-solid">
                                            <path d="M3.375 4.5C2.339 4.5 1.5 5.34 1.5 6.375V13.5h12V6.375c0-1.036-.84-1.875-1.875-1.875h-8.25ZM13.5 15h-12v2.625c0 1.035.84 1.875 1.875 1.875h.375a3 3 0 1 1 6 0h3a.75.75 0 0 0 .75-.75V15Z"></path>
                                            <path d="M8.25 19.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0ZM15.75 6.75a.75.75 0 0 0-.75.75v11.25c0 .087.015.17.042.248a3 3 0 0 1 5.958.464c.853-.175 1.522-.935 1.464-1.883a18.659 18.659 0 0 0-3.732-10.104 1.837 1.837 0 0 0-1.47-.725H15.75Z"></path>
                                            <path d="M19.5 19.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"></path>
                                        </svg>
                                        City
                                    </label>
                                    <input type="text" id="shipping-city" class="input-shop" required>
                                </fieldset>
                                <fieldset>
                                    <label for="shipping-state" class="text-md">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="icon-form icon-truck icon-solid">
                                            <path d="M3.375 4.5C2.339 4.5 1.5 5.34 1.5 6.375V13.5h12V6.375c0-1.036-.84-1.875-1.875-1.875h-8.25ZM13.5 15h-12v2.625c0 1.035.84 1.875 1.875 1.875h.375a3 3 0 1 1 6 0h3a.75.75 0 0 0 .75-.75V15Z"></path>
                                            <path d="M8.25 19.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0ZM15.75 6.75a.75.75 0 0 0-.75.75v11.25c0 .087.015.17.042.248a3 3 0 0 1 5.958.464c.853-.175 1.522-.935 1.464-1.883a18.659 18.659 0 0 0-3.732-10.104 1.837 1.837 0 0 0-1.47-.725H15.75Z"></path>
                                            <path d="M19.5 19.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"></path>
                                        </svg>
                                        State
                                    </label>
                                    <input type="text" id="shipping-state" class="input-shop" required>
                                </fieldset>
                                <fieldset>
                                    <label for="shipping-zip" class="text-md">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="icon-form icon-truck icon-solid">
                                            <path d="M3.375 4.5C2.339 4.5 1.5 5.34 1.5 6.375V13.5h12V6.375c0-1.036-.84-1.875-1.875-1.875h-8.25ZM13.5 15h-12v2.625c0 1.035.84 1.875 1.875 1.875h.375a3 3 0 1 1 6 0h3a.75.75 0 0 0 .75-.75V15Z"></path>
                                            <path d="M8.25 19.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0ZM15.75 6.75a.75.75 0 0 0-.75.75v11.25c0 .087.015.17.042.248a3 3 0 0 1 5.958.464c.853-.175 1.522-.935 1.464-1.883a18.659 18.659 0 0 0-3.732-10.104 1.837 1.837 0 0 0-1.47-.725H15.75Z"></path>
                                            <path d="M19.5 19.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"></path>
                                        </svg>
                                        Zip Code
                                    </label>
                                    <input type="text" id="shipping-zip" class="input-shop" required>
                                </fieldset>
                            </div>
                        </section>

                        <section id="order-summary" class="striped-container">
                            <h3 class="center">Order Summary</h3>
                            <div class="bordered">
                                <div class="antipodal-container text-sm stripe-item">
                                    <span>Regular Price</span>
                                    <span id="os-regular" class="text-gray-800 font-medium">â€”</span>
                                </div>
                                <div class="antipodal-container text-sm stripe-item">
                                    <span>Discount</span>
                                    <span id="os-discount" class="font-semibold text-red">â€”</span>
                                </div>
                                <div class="antipodal-container text-sm stripe-item">
                                    <span>Estimated Tax</span>
                                    <span id="os-tax" class="muted"></span>
                                </div>
                                <div class="antipodal-container text-sm stripe-item">
                                    <span>Shipping</span>
                                    <span id="os-ship" class="muted">Free</span>
                                </div>
                                <div class="antipodal-container text-sm bold stripe-item" id="last">
                                    <span>You Pay</span>
                                    <span id="os-final" class="text-blue text-2xl">â€”</span>
                                </div>
                            </div>
                            <div class="container">&nbsp;</div>
                            <button type="submit" id="submit-button" class="btn btn-primary w-full text-lg py-3">
                                Complete Checkout
                            </button>

                            <div id="error-message" class="text-sm" style="color:#dc3545;display:none;"></div>
                            <div id="success-message" class="text-sm" style="color:#155724;display:none;"></div>
                        </section>
                    </div>
                </section>
            </form>
        </main>

        <!-- Trust Indicators -->
        <section>
            <div class="straight-container">
                <div class="trust">
                    <div class="center">
                        <img src="images/30-day.png" alt="30-Day Money-Back Guarantee" height="80px" />
                        <h3 class="semi-bold text-sm">30-Day Guarantee</h3>
                    </div>
                    
                    <div class="center">
                        <img src="images/free-delivery.png" alt="Free Shipping" height="80px" />
                        <h3 class="font-semibold text-sm mb-1">Free Shipping</h3>
                    </div>
                    
                    <div class="center">
                        <img src="images/ssl_encrypt.png" alt="Secure Payment" height="80px" />
                        <h3 class="font-semibold text-sm mb-1">Secure Payment</h3>
                    </div>
                    
                    <div class="center">
                        <img src="images/certified-quality.png" alt="Certified Quality" height="80px" />
                        <h3 class="font-semibold text-sm mb-1">Quality Certified</h3>
                    </div>
                </div>
            </div>
        </section>

        <section class="guarantee">
            <div class="ribbon-split">
                <div class="seal">
                    <img src="images/money-back.png" alt="Money Back Seal" class="seal-image">
                </div>
                <div class="guarantee-text">
                    <p class="text-sm">This product is backed by a 30-day money-back guarantee. 
                        If you're not totally and completely satisfied with this product, 
                        your results or your experience in the first 30 days from your purchase simply let us know via the <a href="contact/" class="link">Contact Us</a> 
                        page and we'll give you a full refund minus shipping and handling within 48 hours of the product 
                        being returned. 
                    </p>
                </div>
            </div>
        </section>
    </div>

    <footer>
        <div id="copyright" class="text-md"></div>
        <div class="footer-links text-sm">
            <a href="contact/" id="foot-link1">Contact Us</a> | <a href="terms/" id="foot-link2">Terms and Conditions</a> | <a href="privacy/" id="foot-link3">Privacy Policy</a>
        </div>
    </footer>
    <script>
(async function() {
  'use strict';
  
  // ============================================================================
  // CONFIGURATION
  // ============================================================================
  
  // API Configuration
  window.CLIENT_ID = window.CLIENT_ID || 'd831c360-00e1-706a-6d3a-2a5361c20df6';
  window.API_URL = window.API_URL || 'https://api-dev.juniorbay.com/';
  if (!window.API_URL.endsWith('/')) window.API_URL += '/';
  
  const CLIENT_ID = window.CLIENT_ID;
  const API_URL = window.API_URL;
  const OFFER_API_URL = 'https://api-dev.juniorbay.com/public/offer';
  const OFFER_CLIENT_ID = 'd831c360-00e1-706a-6d3a-2a5361c20df6';
  const OFFER_NAME = 'nad-supplement';
  
  // Checkout endpoints
  window.API_URL_CHECKOUT = window.API_URL_CHECKOUT || `${API_URL}public/checkout-session`;
  window.API_URL_PAYMENT_INTENT = window.API_URL_PAYMENT_INTENT || `${API_URL}create-payment-intent`;
  
  // Global state
  if (!window.productPrices) window.productPrices = {};
  if (!window.allPricesCache) window.allPricesCache = null;
  let timeLeft = 5 * 60;
  let discountExpired = false;
  
  // ============================================================================
  // UTILITY FUNCTIONS
  // ============================================================================
  
  const $ = (sel, root = document) => root.querySelector(sel);
  const $$ = (sel, root = document) => Array.from(root.querySelectorAll(sel));
  const fmt = cents => (typeof cents === 'number') ? `$${(cents / 100).toFixed(2)}` : 'â€”';
  
  function formatCurrency(amount, currency = 'usd') {
    return new Intl.NumberFormat('en-US', {
      style: 'currency',
      currency: currency.toUpperCase()
    }).format(amount / 100);
  }
  
  function norm(s) {
    return (s || '').toLowerCase().replace(/[^a-z0-9]+/g, ' ').trim();
  }
  
  function scoreNameMatch(cardText, productName) {
    const a = norm(cardText).split(/\s+/).filter(Boolean);
    const b = new Set(norm(productName).split(/\s+/).filter(Boolean));
    let score = 0;
    for (const w of a) if (b.has(w)) score += 1;
    return score;
  }
  
  // ============================================================================
  // API CONVERSION & FILTERING
  // ============================================================================
  
  function convertOfferToPrices(data) {
    if (data.prices && Array.isArray(data.prices)) return data;
    
    const prices = [];
    const offers = data.offers || data.offer || {};
    
    console.log('Converting offer data:', offers);
    
    if (typeof offers === 'object' && !Array.isArray(offers)) {
      Object.values(offers).forEach(offerData => {
        // The actual API uses "product_ids" not "products"
        const productList = offerData.product_ids || offerData.products || [];
        
        console.log(`Found ${productList.length} products in offer`);
        
        productList.forEach(product => {
          const productPrices = product.prices || [];
          
          console.log(`Product ${product.id} (${product.name}) has ${productPrices.length} prices`);
          
          // Each price needs to include the full product object
          productPrices.forEach(price => {
            prices.push({
              id: price.id,
              unit_amount: price.unit_amount,
              currency: price.currency || 'usd',
              active: true,
              recurring: price.recurring || null,
              product: {
                id: product.id,
                name: product.name,
                description: product.description || '',
                images: product.images || [],
                active: product.active !== false
              },
              metadata: price.metadata || {}
            });
          });
        });
      });
    } else if (Array.isArray(offers)) {
      prices.push(...offers);
    }
    
    console.log(`Converted to ${prices.length} price objects`);
    return { ...data, prices };
  }
  
  function filterNAD(data) {
    const out = { clientID: data?.clientID || null, prices: [] };
    const re = /^\s*NAD\s+Supplement\s*-\s/i;
    out.prices = (data?.prices || []).filter(p => re.test(p?.product?.name || ''));
    return out;
  }
  
  // ============================================================================
  // PRICE RESOLUTION
  // ============================================================================
  
  function resolveRegularDiscount(pricesForProduct) {
    const active = (pricesForProduct || []).filter(p =>
      p && p.active && p.unit_amount != null && (!p.recurring || p.recurring === null)
    );
    
    if (!active.length) return { regular: null, discounted: null };
    
    // If only one price, it's both regular and discounted
    if (active.length === 1) {
      return { regular: active[0], discounted: active[0] };
    }
    
    // Sort by price - lowest is discounted, highest is regular
    const byAmount = [...active].sort((a, b) => a.unit_amount - b.unit_amount);
    const discounted = byAmount[0]; // Lowest price
    const regular = byAmount[byAmount.length - 1]; // Highest price
    
    console.log(`Resolved prices: regular=${regular.unit_amount}, discounted=${discounted.unit_amount}`);
    
    return { regular, discounted };
  }
  
  window.resolveRegularDiscount = resolveRegularDiscount;
  
  function byProduct(prices) {
    const m = new Map();
    for (const p of prices) {
      const pid = p?.product?.id;
      if (!pid) continue;
      if (!m.has(pid)) m.set(pid, []);
      m.get(pid).push(p);
    }
    return m;
  }
  
  function buildProductsIndex(allPrices) {
    const map = new Map();
    (allPrices || []).forEach(p => {
      const prod = p?.product;
      if (prod && prod.id && !map.has(prod.id)) map.set(prod.id, prod);
    });
    return map;
  }
  
  // ============================================================================
  // API FETCH FUNCTIONS
  // ============================================================================
  
  async function fetchAllPricesOnce() {
    if (window.allPricesCache) return window.allPricesCache;
    
    const url = `${OFFER_API_URL}?clientID=${encodeURIComponent(OFFER_CLIENT_ID)}&offer=${encodeURIComponent(OFFER_NAME)}`;
    const res = await fetch(url, { method: 'GET', headers: { 'Accept': 'application/json' } });
    if (!res.ok) throw new Error(`Failed to fetch prices: ${res.status}`);
    
    const rawData = await res.json();
    console.log('fetchAllPricesOnce API Response:', rawData);
    const data = convertOfferToPrices(rawData);
    const filtered = filterNAD(data);
    console.log('fetchAllPricesOnce Converted & Filtered:', filtered);
    
    window.allPricesCache = filtered;
    return window.allPricesCache;
  }
  
  // ============================================================================
  // CARD SELECTION & MAPPING
  // ============================================================================
  
  function getSelectedCard() {
    return $('.package-card.selected') || $('.package-card');
  }
  
  function getSelectedProductId() {
    const selectedCard = getSelectedCard();
    return selectedCard?.dataset?.productId || selectedCard?.id || 'prod_SxJgASmAPdNEgf';
  }
  
  function selectProductForCard(card, products) {
    if (card.dataset.productId && products.has(card.dataset.productId)) {
      return products.get(card.dataset.productId);
    }
    
    const hint = (card.dataset.package || '').toLowerCase();
    if (hint) {
      if (hint === 'basic') {
        for (const prod of products.values()) {
          if (prod?.metadata?.product_category === 'basic') return prod;
        }
      }
      if (/(one|single)/.test(hint)) {
        for (const prod of products.values()) if (/one/i.test(prod?.name || '')) return prod;
      }
      if (/two/.test(hint)) {
        for (const prod of products.values()) if (/two/i.test(prod?.name || '')) return prod;
      }
      if (/three/.test(hint)) {
        for (const prod of products.values()) if (/three/i.test(prod?.name || '')) return prod;
      }
      if (/nad/.test(hint)) {
        for (const prod of products.values()) if (/nad/i.test(prod?.name || '')) return prod;
      }
    }
    
    const textBits = [
      card.querySelector('.pill')?.textContent,
      card.querySelector('h4')?.textContent,
      card.textContent
    ].filter(Boolean).join(' ');
    
    let best = null;
    let bestScore = -1;
    for (const prod of products.values()) {
      const s = scoreNameMatch(textBits, prod?.name || '');
      if (s > bestScore) {
        best = prod;
        bestScore = s;
      }
    }
    if (best) return best;
    return products.values().next().value || null;
  }
  
  // ============================================================================
  // PRELOAD & POPULATE FUNCTIONS
  // ============================================================================
  
  window.preloadAllProductPrices = async function preloadAllProductPrices() {
    const data = await fetchAllPricesOnce();
    const allPrices = data?.prices || [];
    
    console.log(`Preloading prices for ${allPrices.length} price objects`);
    
    const products = buildProductsIndex(allPrices);
    console.log(`Found ${products.size} unique products:`, Array.from(products.keys()));
    
    const cards = $$('.package-card');
    console.log(`Found ${cards.length} package cards`);
    
    cards.forEach((card, index) => {
      console.log(`Processing card ${index + 1}:`, {
        id: card.id,
        dataPackage: card.dataset.package,
        dataProductId: card.dataset.productId
      });
      
      // Try direct ID match first
      let prod = products.get(card.id);
      
      // If no direct match, try selectProductForCard
      if (!prod) {
        prod = selectProductForCard(card, products);
      }
      
      if (!prod) {
        console.warn(`No product match found for card ${card.id}`);
        
        // Try to use any available product as fallback
        const firstProduct = products.values().next().value;
        if (firstProduct) {
          console.log(`Using fallback product: ${firstProduct.id}`);
          prod = firstProduct;
        } else {
          console.error(`No products available at all!`);
          return;
        }
      }
      
      if (!card.dataset.originalId) card.dataset.originalId = card.id;
      card.dataset.productId = prod.id;
      if (prod.name) card.dataset.productName = prod.name;
      
      console.log(`Matched card ${card.id} to product ${prod.id} (${prod.name})`);
      
      // Update card ID to match product ID if safe
      if (card.id !== prod.id && !document.getElementById(prod.id)) {
        card.id = prod.id;
      }
      
      // Get prices for this product
      const pid = prod.id;
      const pricesForProduct = allPrices.filter(p => p?.product?.id === pid);
      const { regular, discounted } = resolveRegularDiscount(pricesForProduct);
      window.productPrices[pid] = { regular, discounted, all: pricesForProduct };
      
      console.log(`Stored prices for ${pid}:`, {
        regular: regular?.unit_amount,
        discounted: discounted?.unit_amount
      });
    });
    
    console.log('window.productPrices:', Object.keys(window.productPrices));
    populatePackageCardsFromCache();
  };
  
  function populatePackageCardsFromCache() {
    const cards = $$('.package-card');
    for (const card of cards) {
      const pid = card.dataset.productId || card.id;
      const entry = window.productPrices[pid];
      if (!entry) continue;
      
      const { regular, discounted, all } = entry;
      const title = all?.[0]?.product?.name;
      
      const regEl = card.querySelector('.txt-reg');
      const priceEl = card.querySelector('.txt-price');
      const saveEl = card.querySelector('.txt-save');
      const discEl = card.querySelector('.txt-discount');
      const titleEl = card.querySelector('h4');
      
      if (titleEl && title) titleEl.textContent = title;
      
      const regCents = regular?.unit_amount ?? null;
      const discCents = discounted?.unit_amount ?? null;
      
      if (regEl) regEl.textContent = (regCents != null) ? fmt(regCents) : 'â€”';
      if (priceEl) priceEl.textContent = (discCents != null) ? fmt(discCents) : (regEl?.textContent || 'â€”');
      
      if (regCents != null && discCents != null && regCents > discCents) {
        const pct = Math.round(((regCents - discCents) / regCents) * 100);
        if (saveEl) saveEl.textContent = `You save ${fmt(regCents - discCents)}`;
        if (discEl) discEl.textContent = `${pct}% OFF`;
      } else {
        if (saveEl) saveEl.textContent = '';
        if (discEl) discEl.textContent = '';
      }
      
      if (regular) {
        card.dataset.regularAmount = String(regular.unit_amount);
        card.dataset.regularPriceId = regular.id;
      }
      if (discounted) {
        card.dataset.discountAmount = String(discounted.unit_amount);
        card.dataset.discountPriceId = discounted.id;
      }
    }
  }
  
  window.populatePackageCardsFromCache = populatePackageCardsFromCache;
  
  // ============================================================================
  // LOAD PRODUCT INFO
  // ============================================================================
  
  window.loadProductInfo = async function loadProductInfo() {
    const card = getSelectedCard();
    if (!card) {
      console.warn('No card selected');
      return;
    }
    
    const product_id = card.dataset.productId || card.id;
    console.log(`loadProductInfo for product_id: ${product_id}`);
    
    const entry = window.productPrices?.[product_id];
    
    if (entry) {
      console.log(`Found cached entry for ${product_id}`);
      const tl = (typeof window.timeLeft === 'number') ? window.timeLeft : timeLeft;
      const chosen = (tl > 0 && entry.discounted) ? entry.discounted : (entry.regular || entry.discounted);
      
      if (chosen) {
        const product = entry.all?.[0]?.product || null;
        
        window.productData = {
          product_id: product_id,
          product,
          price: chosen,
          tax_amount: 0,
          shipping_cost: 0,
          total_amount: chosen.unit_amount ?? null
        };
        window.activePriceId = chosen.id;
        
        console.log('Set productData:', window.productData);
        
        // Update UI
        if (window.updatePurchaseButton) window.updatePurchaseButton();
        if (window.renderOrderSummary) window.renderOrderSummary();
        if (window.updateOrderSummary) window.updateOrderSummary();
        
        return;
      }
    }
    
    // Fallback: fetch fresh
    console.log('No cached entry, fetching fresh data...');
    try {
      const data = await fetchAllPricesOnce();
      const all = data?.prices || [];
      console.log(`Got ${all.length} prices from API`);
      
      let prices = all.filter(p => p?.product?.id === product_id);
      console.log(`Filtered to ${prices.length} prices for product ${product_id}`);
      
      // If no prices found for this product_id, try to find ANY product
      if (prices.length === 0) {
        console.warn(`No prices found for ${product_id}, using first available product`);
        const firstPrice = all[0];
        if (firstPrice) {
          prices = all.filter(p => p?.product?.id === firstPrice.product.id);
          console.log(`Using fallback product ${firstPrice.product.id} with ${prices.length} prices`);
        }
      }
      
      if (prices.length === 0) {
        console.error('No prices available at all!');
        return;
      }
      
      const { regular, discounted } = resolveRegularDiscount(prices);
      
      const product = prices[0]?.product || null;
      if (!product) {
        console.error('Product info not found in prices');
        return;
      }
      
      const nowTimeLeft = (typeof window.timeLeft === 'number') ? window.timeLeft : timeLeft;
      const chosen = (nowTimeLeft > 0 && discounted) ? discounted : (regular || discounted || prices[0]);
      
      window.productData = {
        product_id: product.id,
        product,
        price: chosen,
        tax_amount: 0,
        shipping_cost: 0,
        total_amount: chosen?.unit_amount ?? null
      };
      window.activePriceId = chosen?.id || null;
      window.productPrices[product.id] = { discounted, regular, all: prices };
      
      console.log('Set productData (from fresh fetch):', window.productData);
    } catch (e) {
      console.error('loadProductInfo failed:', e);
    }
  };
  
  // ============================================================================
  // PRICE SELECTION HELPERS
  // ============================================================================
  
  window.getSelectedPriceId = function getSelectedPriceId() {
    const card = getSelectedCard();
    if (!card) return null;
    
    const tl = (typeof window.timeLeft === 'number') ? window.timeLeft : timeLeft;
    const preferDiscount = tl > 0;
    
    const discountId = card.dataset.discountPriceId || null;
    const regularId = card.dataset.regularPriceId || null;
    if (preferDiscount && discountId) return discountId;
    if (regularId) return regularId;
    if (discountId) return discountId;
    
    const pid = card.dataset.productId || card.id;
    const entry = window.productPrices?.[pid];
    if (entry) {
      if (preferDiscount && entry.discounted?.id) return entry.discounted.id;
      return entry.regular?.id || entry.discounted?.id || null;
    }
    return null;
  };
  
  // ============================================================================
  // COUNTDOWN & EXPIRY HANDLING
  // ============================================================================
  
  function applyRegularPricing() {
    if (window.__regularAppliedOnce) return;
    window.__regularAppliedOnce = true;
    
    const cards = $$('.package-card');
    cards.forEach(card => {
      let regCents = card.dataset.regularAmount ? Number(card.dataset.regularAmount) : null;
      if (regCents == null && window.productPrices && window.productPrices[card.id]?.regular?.unit_amount != null) {
        regCents = window.productPrices[card.id].regular.unit_amount;
      }
      if (regCents == null) return;
      
      const priceEl = card.querySelector('.txt-price');
      if (priceEl) priceEl.textContent = fmt(regCents);
      
      if (card.classList.contains('selected')) {
        const regularPriceId = card.dataset.regularPriceId ||
          (window.productPrices && window.productPrices[card.id]?.regular?.id) || null;
        
        if (window.productData && window.productData.product_id === card.id) {
          window.productData.price = window.productPrices?.[card.id]?.regular || window.productData.price;
          window.productData.total_amount = regCents;
        }
        if (regularPriceId) window.activePriceId = regularPriceId;
        
        const osFinal = $('#os-final');
        if (osFinal) osFinal.textContent = fmt(regCents);
      }
    });
    
    // Remove badges
    $$('.package-badge').forEach(el => el.remove());
    
    // Hide discount indicators
    $$('.txt-reg').forEach(el => el.style.opacity = '0');
    $$('.txt-save').forEach(el => el.textContent = '');
    $$('.txt-discount').forEach(el => el.textContent = '');
    
    if (window.updatePurchaseButton) window.updatePurchaseButton();
    if (window.renderOrderSummary) window.renderOrderSummary();
    if (window.updateOrderSummary) window.updateOrderSummary();
  }
  
  window.applyRegularPricingOnce = applyRegularPricing;
  
  function updateCountdown() {
    const countdownElement = $('#countdown');
    if (!countdownElement) return;
    
    if (timeLeft <= 0) {
      countdownElement.textContent = '00:00';
      if (!discountExpired) {
        discountExpired = true;
        applyRegularPricing();
      }
      return;
    }
    
    const m = Math.floor(timeLeft / 60);
    const s = timeLeft % 60;
    countdownElement.textContent = `${String(m).padStart(2, '0')}:${String(s).padStart(2, '0')}`;
    timeLeft--;
  }
  
  window.timeLeft = timeLeft;
  setInterval(() => {
    timeLeft = Math.max(0, timeLeft - 1);
    window.timeLeft = timeLeft;
    updateCountdown();
  }, 1000);
  
  // ============================================================================
  // ORDER BUTTON GUARD
  // ============================================================================
  
  function installOrderClickGuard() {
    const btn = $('#purchase-btn') || $('#orderBtn');
    if (!btn || btn.__orderGuardInstalled) return;
    btn.__orderGuardInstalled = true;
    
    btn.addEventListener('click', async (evt) => {
      const hasPrice = !!(window.productData?.price?.id || window.activePriceId || window.getSelectedPriceId());
      if (hasPrice) return;
      
      evt.stopPropagation();
      evt.preventDefault();
      
      try {
        await window.preloadAllProductPrices();
        await window.loadProductInfo();
        
        const priceId = window.productData?.price?.id || window.activePriceId || window.getSelectedPriceId();
        if (!priceId) throw new Error('Price not loaded. Please try again.');
        
        setTimeout(() => btn.click(), 0);
      } catch (e) {
        console.error(e);
        alert(e.message || String(e));
      }
    }, true);
  }
  
  // ============================================================================
  // UI HELPERS
  // ============================================================================
  
  function showError(msg) {
    const el = $('#error-message');
    if (el) {
      el.textContent = msg;
      el.style.display = 'block';
    }
  }
  
  function hideError() {
    const el = $('#error-message');
    if (el) el.style.display = 'none';
  }
  
  function showCopyright() {
    const el = $('#copyright');
    if (el) {
      const yyyy = new Date().getFullYear();
      el.textContent = `\u00A9 ${yyyy} Junior Bay Corporation - All rights reserved.`;
    }
  }
  
  function updateLinkText() {
    const mq = window.matchMedia("(max-width: 359px)");
    const link1 = $('#foot-link1');
    const link2 = $('#foot-link2');
    const link3 = $('#foot-link3');
    
    if (!link1 || !link2 || !link3) return;
    
    if (mq.matches) {
      link1.innerHTML = "Contact";
      link2.innerHTML = "Terms";
      link3.innerHTML = "Privacy";
    } else {
      link1.innerHTML = "Contact Us";
      link2.innerHTML = "Terms and Conditions";
      link3.innerHTML = "Privacy Policy";
    }
  }
  
  window.addEventListener("resize", updateLinkText);
  
  // ============================================================================
  // ICON RENDERING
  // ============================================================================
  
  const CHECKED_SVG = `
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="h-3 w-3">
      <circle cx="12" cy="12" r="12" fill="#3b84f6" />
      <path d="M20 6 9 17l-5-5" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  `.trim();
  
  const EMPTY_SVG = `
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="h-3 w-3">
      <circle cx="12" cy="12" r="11" fill="none" stroke="#64758b" stroke-width="2" />
    </svg>
  `.trim();
  
  function renderIcons() {
    $$('.package-card').forEach(card => {
      const icon = card.querySelector('.icon-check');
      if (!icon) return;
      icon.innerHTML = card.classList.contains('selected') ? CHECKED_SVG : EMPTY_SVG;
    });
  }
  
  window.renderIcons = renderIcons;
  
  // ============================================================================
  // ORDER SUMMARY UPDATES
  // ============================================================================
  
  function setOrderSummaryFromCard(card) {
    if (!card) return;
    
    const regCents = Number(card.dataset.regularAmount || '0');
    const disCents = Number(card.dataset.discountAmount || '0') || regCents;
    
    const osRegular = $('#os-regular');
    const osDiscount = $('#os-discount');
    const osFinal = $('#os-final');
    
    if (osRegular) osRegular.textContent = regCents ? fmt(regCents) : 'â€”';
    
    const discount = (regCents && disCents && regCents > disCents) ? (regCents - disCents) : 0;
    if (osDiscount) osDiscount.textContent = discount ? `- ${fmt(discount)}` : 'â€”';
    if (osFinal) osFinal.textContent = fmt(disCents);
  }
  
  window.setOrderSummaryFromCard = setOrderSummaryFromCard;
  
  function updatePurchaseButton() {
    const purchaseBtn = $('#purchase-btn');
    if (!purchaseBtn) return;
    
    const card = getSelectedCard();
    if (!card) return;
    
    const tl = (typeof window.timeLeft === 'number') ? window.timeLeft : timeLeft;
    const disCents = Number(card.dataset.discountAmount || '0');
    const regCents = Number(card.dataset.regularAmount || '0');
    const priceCents = (tl > 0 && disCents) ? disCents : (regCents || disCents);
    
    if (priceCents) {
      purchaseBtn.textContent = `Order Now - ${fmt(priceCents)} + FREE Shipping`;
    }
  }
  
  window.updatePurchaseButton = updatePurchaseButton;
  
  function renderOrderSummary() {
    const card = getSelectedCard();
    if (!card) return;
    setOrderSummaryFromCard(card);
  }
  
  window.renderOrderSummary = renderOrderSummary;
  
  function updateOrderSummary() {
    const card = getSelectedCard();
    if (!card) return;
    setOrderSummaryFromCard(card);
  }
  
  window.updateOrderSummary = updateOrderSummary;
  
  // ============================================================================
  // CARD SELECTION HANDLERS
  // ============================================================================
  
  function setupCardClickHandlers() {
    const cards = $$('.package-card');
    
    console.log(`Setting up click handlers for ${cards.length} cards`);
    
    cards.forEach((card, index) => {
      // Remove any existing listeners by cloning
      const newCard = card.cloneNode(true);
      card.parentNode.replaceChild(newCard, card);
      
      newCard.addEventListener('click', async function() {
        console.log(`Card ${index + 1} clicked:`, newCard.id);
        
        // Remove selected from all cards
        $$('.package-card').forEach(c => c.classList.remove('selected'));
        
        // Add selected to this card
        newCard.classList.add('selected');
        
        // Update icons
        renderIcons();
        
        // Update order summary
        setOrderSummaryFromCard(newCard);
        
        // Update purchase button
        updatePurchaseButton();
        
        // Load product info for this card
        try {
          await window.loadProductInfo();
        } catch (e) {
          console.error('Error loading product info on click:', e);
        }
      });
    });
    
    // Initial render
    renderIcons();
    const selected = getSelectedCard();
    if (selected) {
      setOrderSummaryFromCard(selected);
      updatePurchaseButton();
    }
  }
  
  window.setupCardClickHandlers = setupCardClickHandlers;
  
  // ============================================================================
  // PURCHASE BUTTON HANDLER
  // ============================================================================
  
  function setupPurchaseButton() {
    const purchaseBtn = $('#purchase-btn');
    if (!purchaseBtn || purchaseBtn.__purchaseHandlerInstalled) return;
    
    purchaseBtn.__purchaseHandlerInstalled = true;
    
    purchaseBtn.addEventListener('click', async (e) => {
      console.log('Purchase button clicked');
      
      // Check if we have product data
      if (!window.productData || !window.productData.price) {
        console.error('Product data not loaded');
        showError('Please select a package first');
        return;
      }
      
      const product_id = window.productData.product_id;
      const price_id = window.productData.price.id;
      
      console.log('Creating checkout session:', { product_id, price_id });
      
      try {
        // Show loading state
        purchaseBtn.disabled = true;
        purchaseBtn.textContent = 'Loading...';
        
        // Scroll to form (if you want to show form instead of redirect)
        const form = $('#payment-form');
        if (form && form.classList.contains('hidden')) {
          form.classList.remove('hidden');
          form.scrollIntoView({ behavior: 'smooth', block: 'start' });
          purchaseBtn.textContent = `Order Now - ${fmt(window.productData.price.unit_amount)} + FREE Shipping`;
          purchaseBtn.disabled = false;
          return;
        }
        
        // Or create checkout session and redirect (uncomment if using Stripe Checkout)
        /*
        const res = await fetch(window.API_URL_CHECKOUT, {
          method: 'POST',
          headers: { 
            'Content-Type': 'application/json',
            'X-Client-Id': CLIENT_ID,
            'X-Offer-Name': 'NAD Supplement'
          },
          body: JSON.stringify({
            product_id,
            price_id,
            offer_name: 'NAD Supplement'
          })
        });
        
        const data = await res.json();
        
        if (!data.id) {
          throw new Error(data.error || 'Failed to create checkout session');
        }
        
        // Initialize Stripe if not already done
        if (typeof Stripe !== 'undefined' && !window.stripe) {
          window.stripe = Stripe('pk_test_mTW79VPNrNQEECSvj5AdC66n00UjfFE9kO');
        }
        
        if (window.stripe) {
          const { error } = await window.stripe.redirectToCheckout({ sessionId: data.id });
          if (error) {
            throw new Error(error.message);
          }
        } else {
          throw new Error('Stripe not loaded');
        }
        */
        
      } catch (err) {
        console.error('Purchase error:', err);
        showError(err.message || 'Unable to process order. Please try again.');
        purchaseBtn.textContent = `Order Now - ${fmt(window.productData.price.unit_amount)} + FREE Shipping`;
        purchaseBtn.disabled = false;
      }
    });
  }
  
  window.setupPurchaseButton = setupPurchaseButton;
  
  // Make commonly used functions available
  window.showError = showError;
  window.hideError = hideError;
  window.showCopyright = showCopyright;
  window.updateLinkText = updateLinkText;
  window.formatCurrency = formatCurrency;
  
  // ============================================================================
  // INITIALIZATION
  // ============================================================================
  
  async function init() {
    console.log('Initializing consolidated NAD supplement page...');
    
    showCopyright();
    updateLinkText();
    
    try {
      await window.preloadAllProductPrices();
      
      // Setup card click handlers after cards are populated
      setupCardClickHandlers();
      
      // Setup purchase button handler
      setupPurchaseButton();
      
      await window.loadProductInfo();
      
      if (!window.productData) {
        console.error("Failed to load default product info");
      }
      
      // Update UI elements
      renderIcons();
      updatePurchaseButton();
      renderOrderSummary();
      
    } catch (e) {
      console.error('Initialization failed:', e);
    }
    
    installOrderClickGuard();
    console.log('Initialization complete');
  }
  
  // Run init when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
  
})();
</script>
</body>
</html>